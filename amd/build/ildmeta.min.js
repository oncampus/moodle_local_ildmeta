define(["jquery"],function(a){function b(a,b){var c=new Array;return a.forEach(function(a){a!=b&&c.push(a)}),c}function c(a,b){var c=new Array;return a.forEach(function(a){var d=!1;b.forEach(function(b){a==b&&(d=!0)}),d||c.push(a)}),c}function d(){var a=j.val(),d=a.split(","),f=i.val(),k=c(f,d),m=c(d,f);k.forEach(function(a){d.push(a)}),m.forEach(function(a){d=b(d,a)}),j.val(d.join(",")),g(),d.forEach(function(a){h(l[a].text,a)}),e()}function e(){var a=k.children().length;0===a&&k.append("<span>Keine Eintr√§ge</span>")}function f(c){var e=j.val(),f=e.split(",");f=b(f,c),a(l[c]).prop("selected",!1),j.val(f.join(",")),d()}function g(){k.empty()}function h(b,c){k.append("<span class='unilist-show-element' data-value='"+c+"' aria-selected='true'><span class='unilist-remove'>X </span>"+b+"</span>");var d=a('span.unilist-show-element[data-value="'+c+'"]');d.click(function(){f(a(this).attr("data-value"))})}var i,j,k,l;return{init:function(){i=a("select#id_universitylist"),k=a("div#unilist"),j=a('input[name="university"]'),l=a("select#id_universitylist option"),g();var b=j.val(),c=b.split(",");""!==b&&c.forEach(function(a){h(l[a].text,a)}),e(),i.change(function(){d()})}}});